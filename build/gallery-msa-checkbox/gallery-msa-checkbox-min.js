YUI.add("gallery-msa-checkbox",function(e,t){"use strict";function n(e){n.superclass.constructor.apply(this,arguments)}e.namespace("MSA"),n.NAME="MSACheckbox";var r=".toggle-handle",i=".toggle",s="input[type=checkbox]",o="readonly",u="disabled",a="checked",f="webkitTransform",l="clientWidth",c="active",h="translate3D",p='<div class="toggle {active}"><div class="toggle-handle"></div></div>';e.extend(n,e.Base,{initializer:function(e){this._handles=[],this.renderUI(e)},renderUI:function(t){t.srcNodes.each(function(t){t.addClass("toggle-hidden");var n=t.ancestor("label");n&&n.setAttribute("for",Math.random()),t.insert(e.Lang.sub(p,{active:t.get(a)?c:""}),"after")}),this.bindUI()},bindUI:function(){var t={},n=!1,i=!1;this._handles.push(e.delegate("gesturemovestart",function(e){var i=e.currentTarget,s=i.one(r),o=i.get(l),u=s.get(l),a=i.hasClass(c)?o-u:0;t={pageX:e.pageX-a,pageY:e.pageY},n=!1},"body",".toggle",this)),this._handles.push(e.delegate("gesturemove",function(e){if(e.touches.length>1)return;var o=e.currentTarget,a=o.one(r),p=e,d=o.get(l),v=a.get(l),m=d-v;n=!0,i=p.pageX-t.pageX;if(Math.abs(i)<Math.abs(p.pageY-t.pageY)||o.previous(s).get(u))return;e.preventDefault();if(i<0)return a.setStyle(f,h+"(0,0,0)");if(i>m)return a.setStyle(f,h+"("+m+"px,0,0)");a.setStyle(f,h+"("+i+"px,0,0)"),o.toggleClass(c,i>d/2-v/2)},"body",".toggle",this)),this._handles.push(e.delegate("gesturemoveend",function(e){var t=e.currentTarget,o=t.one(r),p=t.get(l),d=o.get(l),v=p-d,m=!n&&!t.hasClass(c)||n&&i>p/2-d/2;if(t.previous(s).get(u))return;m?o.setStyle(f,h+"("+v+"px,0,0)"):o.setStyle(f,h+"(0,0,0)"),t.toggleClass(c,m).previous(s).set(a,m),this.fire("toggle",{isActive:m}),n=!1},"body",".toggle",this))},destructor:function(){for(var e=0;e<this._handles.length;e++)this._handles[e].detach();this._handles=null}}),e.MSA.Checkbox=n},"@VERSION@",{skinnable:"true",requires:["node-base","base","event-base","event-move","event-delegate","node-event-delegate","node-style"],optional:[""]});
