YUI.add("gallery-ds-regexcache",function(B){var A=function(){A.superclass.constructor.apply(this,arguments);};B.mix(A,{NS:"regexcache",NAME:"dataSourceRegExCache",ATTRS:{}});B.extend(A,B.Plugin.Cache,{initializer:function(C){this.doBefore("_defRequestFn",this._beforeDefRequestFn);this.doBefore("_defResponseFn",this._beforeDefResponseFn);},_beforeDefRequestFn:function(D){var C=(this.retrieve(D.request))||null;if(C&&C.response){this.get("host").fire("response",B.mix({response:C.response},D));return new B.Do.Halt("DataSourceRegExCache plugin halted _defRequestFn");}},_beforeDefResponseFn:function(D){if(D.response&&!D.response.cached){D.response.cached=true;var C=null;if(D.response.meta.total===D.response.results.length){C=new RegExp(D.request);}this.add(D.request,D.response,{regex:C});}},_isMatch:function(E,D){var C=D.payload.regex;if(C!=null){var C=C.exec(E);}return(C!=null||E===D.request);}});B.namespace("Plugin").DataSourceRegExCache=A;},"@VERSION@",{requires:["datasource-local","cache-plugin"]});