YUI.add("gallery-handlebars-loader",function(B){var A=function(C){A.superclass.constructor.apply(this,arguments);};A.NAME="HandlebarsLoader";B.extend(A,B.Base,{templates:{},raw:function(D){var C=B.one("#"+D);if(C){return C.get("innerHTML");}return null;},preCompile:function(D){for(var C=0;C<D.length;C++){this.template(D[C]);}},template:function(E){var C=this,D;if(!B.Object.hasKey(this.templates,E)){D=this.raw(E);if(D===null){if(this.get("autoLoad")){this.load(this.get("comboLoader")+this.get("idConvert")(E),{process:true,sync:true});}}else{this.templates[E]=B.Handlebars.compile(D);}}return this.templates[E];},load:function(D,C){B.io(D,{sync:C.sync||false,on:{success:function(G,E){var F=B.one("head");F.append(E.responseText);if(C.process){F.all('script[type="text/x-handlebars-template"]').each(function(I){var H=this.template(I.get("id"));if(C.callback){C.callback(H);}},this);}},failure:function(){throw"Handlebars: failed to retrieve url: "+D;}},context:this});},clear:function(C){if(C){delete this.templates[C];}else{this.templates={};}},destructor:function(){this.templates=null;}},{ATTRS:{autoLoad:{value:false},comboLoader:{},idConvert:{value:function(C){return C;}}}});B.namespace("MSA");B.MSA.HandlebarsLoader=A;},"@VERSION@",{skinnable:false,requires:["node-base","handlebars-base","handlebars-compiler","base-base","io-base"]});